<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HasÄ±lat Takip (OKUL + Yurt KÄ±z + Yurt Erkek)</title>
  <link rel="stylesheet" href="style.css">
  <!-- Excel motoru -->
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <!-- OCR motoru -->
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.1.1/dist/tesseract.min.js"></script>
  <style>
    /* kÃ¼Ã§Ã¼k bir Ã¶zet tablosu iÃ§in */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .panel{background:#fff;border-radius:12px;box-shadow:0 6px 18px rgba(10,10,50,.06);padding:12px}
    .panel h3{margin:0 0 8px 0;font-size:1rem}
    .muted{color:#666}
    table{width:100%;border-collapse:collapse;font-size:.95rem}
    th,td{border:1px solid #e7ebf4;padding:6px}
    th{background:#f7f8fc;text-align:left}
    .actions{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0}
  </style>
</head>
<body>
  <header>
    <h1>HasÄ±lat Takip AracÄ±</h1>
    <p class="muted">ğŸ“¸ Foto yÃ¼kle â†’ ğŸ¤– OCR eÅŸleÅŸtirir â†’ ğŸ“Š Excel indir. (Veri cihazÄ±ndan Ã§Ä±kmaz.)</p>
  </header>

  <main>
    <div class="grid">
      <section class="panel">
        <h3>ğŸ“¥ Fatura (OKUL GiriÅŸ)</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'okul_gelen')">
        <p class="muted">FaturanÄ±n/irsaliyenin fotoÄŸrafÄ±nÄ± yÃ¼kle.</p>
      </section>

      <section class="panel">
        <h3>ğŸšš Yurt KÄ±z Ã‡Ä±kÄ±ÅŸ</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'kiz_cikis')">
        <p class="muted">KÄ±z yurda Ã§Ä±kan Ã¼rÃ¼n listesi (ADET) fotoÄŸrafÄ±.</p>
      </section>

      <section class="panel">
        <h3>ğŸšš Yurt Erkek Ã‡Ä±kÄ±ÅŸ</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'erkek_cikis')">
        <p class="muted">Erkek yurda Ã§Ä±kan Ã¼rÃ¼n listesi (ADET) fotoÄŸrafÄ±.</p>
      </section>

      <section class="panel">
        <h3>ğŸ“· Okul Kalan</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'okul_kalan')">
        <p class="muted">Hafta sonu okul raf/sayÄ±m fotoÄŸrafÄ±.</p>
      </section>

      <section class="panel">
        <h3>ğŸ“· KÄ±z Yurt Kalan</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'kiz_kalan')">
        <p class="muted">KÄ±z yurt raf/sayÄ±m fotoÄŸrafÄ±.</p>
      </section>

      <section class="panel">
        <h3>ğŸ“· Erkek Yurt Kalan</h3>
        <input type="file" accept="image/*" onchange="processImage(this.files[0], 'erkek_kalan')">
        <p class="muted">Erkek yurt raf/sayÄ±m fotoÄŸrafÄ±.</p>
      </section>
    </div>

    <section class="panel">
      <h3>Ã–zet (iÅŸlenen deÄŸerler)</h3>
      <div class="actions">
        <button onclick="downloadExcel()">ğŸ“Š Åablon Excel indir (formÃ¼llÃ¼)</button>
        <button class="secondary" onclick="clearAll()">Temizle</button>
      </div>
      <div id="summary"></div>
    </section>

    <section class="panel">
      <h3>Log</h3>
      <div id="log" class="log" style="min-height:80px;background:#0f1724;color:#fff;border-radius:10px;padding:10px;font-size:.9rem">HazÄ±r.</div>
    </section>
  </main>

  <footer>
    <small class="muted">Not: Popkek & Frutti tek satÄ±r; kiÅŸisel bakÄ±m (ÅŸampuan/sabun/diÅŸ macunu) kategori bazÄ±nda izlenir. Fiyatlar Excelâ€™de sabit; formÃ¼ller Excel iÃ§inde.</small>
  </footer>

  <script src="app.js"></script>
</body>
</html>
